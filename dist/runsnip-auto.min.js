/*! runsnip v0.1.2 | (c) 2022-2024 RÃ©mino Rem <https://remino.net/> | ISC Licence */
(function(f){typeof define==='function'&&define.amd?define(f):f();})((function(){'use strict';const create=document.createElement.bind(document);const sel=document.querySelector.bind(document);const selOrCreate=(e,t)=>sel(e)||create(t);class s extends HTMLElement{connectedCallback(){this.htmlEl=selOrCreate(this.getAttribute("html"),"div"),this.cssEl=selOrCreate(this.getAttribute("css"),"style"),this.jsEl=selOrCreate(this.getAttribute("js"),"script"),this.headEl=selOrCreate(this.getAttribute("head"),"head"),this.outputEl=selOrCreate(this.getAttribute("output"),"output"),this.appendEl=sel(this.getAttribute("append")),this.submitEl=selOrCreate(this.getAttribute("submit"),"button"),this.submitEl.getAttribute("type")||this.submitEl.setAttribute("type","submit"),"INPUT"===this.submitEl.tagName?this.submitEl.value=this.textContent||"Run":this.submitEl.innerHTML=this.innerHTML||"Run";const s=this.submitEl.form||create("form");document.contains(s)?document.contains(this.submitEl)||this.appendChild(this.submitEl):(this.appendChild(s),document.contains(this.submitEl)||s.appendChild(this.submitEl)),s.addEventListener("submit",this.submit.bind(this));}get html(){return this.htmlEl.value||this.htmlEl.innerHTML}get head(){return this.headEl.value||this.headEl.innerHTML}get css(){return this.cssEl.value||this.cssEl.textContent}get js(){return this.jsEl.value||this.jsEl.textContent}run(){document.contains(this.outputEl)||(this.appendEl?this.appendEl.contains(this.outputEl)||this.appendEl.appendChild(this.outputEl):this.insertAdjacentElement("afterend",this.outputEl));const e=create("iframe"),i=create("style");i.textContent=this.css;const s=create("script");s.setAttribute("defer",""),s.textContent=this.js,this.outputEl.innerHTML="",this.outputEl.appendChild(e),e.contentDocument.head.innerHTML=this.head,e.contentDocument.head.appendChild(i),e.contentDocument.body.innerHTML=this.html,e.contentDocument.body.appendChild(s);}submit(t){t.preventDefault(),t.stopPropagation(),this.run();}}var t = ()=>{customElements.define("run-snip",s);};"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",t);}));