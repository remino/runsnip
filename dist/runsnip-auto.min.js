/*! @remino/runsnip v0.1.0 | (c) 2022-2024 RÃ©mino Rem <https://remino.net/> | ISC Licence */
(function(f){typeof define==='function'&&define.amd?define(f):f();})((function(){'use strict';const create=document.createElement.bind(document);const sel=document.querySelector.bind(document);const selOrCreate=(e,t)=>sel(e)||create(t);class e extends HTMLElement{connectedCallback(){this.htmlEl=selOrCreate(this.getAttribute("html"),"div"),this.cssEl=selOrCreate(this.getAttribute("css"),"style"),this.jsEl=selOrCreate(this.getAttribute("js"),"script"),this.outputEl=selOrCreate(this.getAttribute("output"),"output"),this.appendEl=sel(this.getAttribute("append"))||document.body,this.submitEl=selOrCreate(this.getAttribute("submit"),"button"),this.submitEl.getAttribute("type")||this.submitEl.setAttribute("type","submit"),"INPUT"===this.submitEl.tagName?this.submitEl.value=this.textContent||"Run":this.submitEl.innerHTML=this.innerHTML||"Run";const e=this.submitEl.form||create("form");document.contains(e)?document.contains(this.submitEl)||this.appendChild(this.submitEl):(this.appendChild(e),document.contains(this.submitEl)||e.appendChild(this.submitEl)),e.addEventListener("submit",this.submit.bind(this));}get html(){return this.htmlEl.value||this.htmlEl.innerHTML}get css(){return this.cssEl.value||this.cssEl.textContent}get js(){return this.jsEl.value||this.jsEl.textContent}run(){document.contains(this.outputEl)||!this.appendEl||this.appendEl.contains(this.outputEl)||this.appendEl.appendChild(this.outputEl);const s=create("style");s.textContent=this.css;const i=create("script");i.textContent=this.js,this.outputEl.innerHTML="",this.outputEl.appendChild(s),this.outputEl.innerHTML+=this.html,this.outputEl.appendChild(i);}submit(t){t.preventDefault(),t.stopPropagation(),this.run();}}var t = ()=>{customElements.define("run-snip",e);};"interactive"===document.readyState?t():document.addEventListener("DOMContentLoaded",t);}));