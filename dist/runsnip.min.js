/*! runsnip v0.1.2 | (c) 2022-2024 RÃ©mino Rem <https://remino.net/> | ISC Licence */
(function(g,f){typeof exports==='object'&&typeof module!=='undefined'?module.exports=f():typeof define==='function'&&define.amd?define(f):(g=typeof globalThis!=='undefined'?globalThis:g||self,g.runsnip=f());})(this,(function(){'use strict';const create=document.createElement.bind(document);const sel=document.querySelector.bind(document);const selOrCreate=(e,t)=>sel(e)||create(t);class e extends HTMLElement{connectedCallback(){this.htmlEl=selOrCreate(this.getAttribute("html"),"div"),this.cssEl=selOrCreate(this.getAttribute("css"),"style"),this.jsEl=selOrCreate(this.getAttribute("js"),"script"),this.outputEl=selOrCreate(this.getAttribute("output"),"output"),this.appendEl=sel(this.getAttribute("append")),this.submitEl=selOrCreate(this.getAttribute("submit"),"button"),this.submitEl.getAttribute("type")||this.submitEl.setAttribute("type","submit"),"INPUT"===this.submitEl.tagName?this.submitEl.value=this.textContent||"Run":this.submitEl.innerHTML=this.innerHTML||"Run";const e=this.submitEl.form||create("form");document.contains(e)?document.contains(this.submitEl)||this.appendChild(this.submitEl):(this.appendChild(e),document.contains(this.submitEl)||e.appendChild(this.submitEl)),e.addEventListener("submit",this.submit.bind(this));}get html(){return this.htmlEl.value||this.htmlEl.innerHTML}get css(){return this.cssEl.value||this.cssEl.textContent}get js(){return this.jsEl.value||this.jsEl.textContent}run(){document.contains(this.outputEl)||(this.appendEl?this.appendEl.contains(this.outputEl)||this.appendEl.appendChild(this.outputEl):this.insertAdjacentElement("afterend",this.outputEl));const s=create("iframe"),i=create("style");i.textContent=this.css;const e=create("script");e.setAttribute("defer",""),e.textContent=this.js,this.outputEl.innerHTML="",this.outputEl.appendChild(s),s.contentDocument.head.appendChild(i),s.contentDocument.body.innerHTML=this.html,s.contentDocument.body.appendChild(e);}submit(t){t.preventDefault(),t.stopPropagation(),this.run();}}return e;}));